<div class="input-container whole">
    <input type="text" id="editUserName" onblur="validate_blank(this,this.value)" onchange="validate_blank(this,this.value)" data-error="errorUserName" class="form-control floatlabel" data-class="input-label" placeholder="Full Name" value="{{ user.name }}">
    <div id="errorUserName" class="error-icon-container hidden tooltip" title="This field is required." title="This field is required."><i class="material-icons">&#xE001;</i></div>
</div>
<div class="input-container whole">
    <input type="text" id="editUserEmail" onblur="validate_blank(this,this.value)" onchange="validate_blank(this,this.value)" data-error="errorUserEmail" class="form-control floatlabel" data-class="input-label" placeholder="Username" value="{{ user.email }}">
    <div id="errorUserEmail" class="error-icon-container hidden tooltip" title="This field is required." title="This field is required."><i class="material-icons">&#xE001;</i></div>
</div>
<span class="input-group-label">Permissions</span>
<!-- {% if 'Usage' in permissions %}
<div class="permission-picker active" data-value="Usage" onclick="toggle_edit_permission(this)">Usage</div>
{% else %}
<div class="permission-picker" data-value="Usage" onclick="toggle_edit_permission(this)">Usage</div>
{% endif %} -->
{% if 'Services' in permissions %}
<div class="permission-picker with-margin active" data-value="Services" onclick="toggle_edit_permission(this)">Services</div>
{% else %}
<div class="permission-picker with-margin" data-value="Services" onclick="toggle_edit_permission(this)">Services</div>
{% endif %}
{% if 'Users' in permissions %}
<div class="permission-picker active" data-value="Users" onclick="toggle_edit_permission(this)">Users</div>
{% else %}
<div class="permission-picker" data-value="Users" onclick="toggle_edit_permission(this)">Users</div>
{% endif %}

{% if user.id != current_user_id %}
<button type="button" id="resetPasswordToggle" class="btn btn-primary" data-toggle="modal" data-target="#resetPasswordModal">Reset Password</button>
<button type="button" id="resetPasswordToggle" class="btn btn-danger" data-toggle="modal" data-target="#deleteUserModal">Delete User</button>
{% endif %}

<script type="text/javascript">
$('#userInfoModal .form-control').on('keyup', function () {
  name = $('#editUserName').val();
  email = $('#editUserEmail').val();
  role = $('#editUserRole').val();

  if ((name != '') && (email != '')) {
    $('#editUserBtn').attr('disabled',false);
  }
  else {
    $('#editUserBtn').attr('disabled',true);
  }
});

$('#userInfoModal .form-control').on('change', function () {
  name = $('#editUserName').val();
  email = $('#editUserEmail').val();
  role = $('#editUserRole').val();

  if ((name != '') && (email != '')) {
    $('#editUserBtn').attr('disabled',false);
  }
  else {
    $('#editUserBtn').attr('disabled',true);
  }
});

$('.permission-picker').on('click', function () {
  name = $('#editUserName').val();
  email = $('#editUserEmail').val();
  role = $('#editUserRole').val();

  if ((name != '') && (email != '')) {
    $('#editUserBtn').attr('disabled',false);
  }
  else {
    $('#editUserBtn').attr('disabled',true);
  }
});
</script>